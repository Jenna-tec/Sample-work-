<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Homepage | To do List | Make Everyday Productive
    </title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">

</head>
<body>
    <div class="sidebar">
        <h2>Menu</h2>
        <input type="text" name="search" placeholder="Search" >
        <p class="p2">Tasks</p>
        <ul>
          <li><a href="">Upcoming</a></li>
          <li><a href="">Today</a></li>
          <li><a href="">Calendar</a></li>
          <li><a href="">Sticky notes</a></li>
        </ul>
        <button type="button" name="btn" class="button2">Sign Up</button>
  </div>
  <div class="position">
    <div class="text">
        <div id="disappear">
        <p >Welcome to DOOit!</p>
        <p >Welcome to DOOit! your tsk hub. Get started with your tasks! This is your space to prioritize, organize and conquer all your to do’s. Use this list to keep track of what needs to be done , and check off accomplishments as you go </p>
        </div>
        <button type="button" name="btn" id="task" class="button" onclick="myFunction()" >Create a new task</button>
        <!--Butto with event listener onclick-->
        <div id="task-input-area" style="display: none;">
            <h2>Today</h2>
            <input id="task-input" type="text" placeholder="Enter a new task">
            <button id="add-task-btn" onclick="addTask()">Add</button>
        </div>
        <div id="parent" >
            <ul id="task-list"></ul>
           
        </div>
        <div id="confirm-dialogue" style="display: none;">
            <p>Are you sure you want to delete this task?</p>
            <button id="confirm-yes">Yes</button>
            <button id="confirm-no">No</button>
        </div>
    </div>
   
  </div>
    <footer>
            <hr>
            <div id="paragraph">
                <p>© 2024 DOOit. All Rights Reserved.</p>
            </div>
            <div id="p1">
                <ul class="footer-link">
                    <li>Terms of Use</li>
                    <li>Privacy Policy</li>
                </ul>
            </div>
    </footer>
    <script >
       function myFunction()
       {
        
        const button = document.getElementById('task') ;
        const oldDiv = document.getElementById('disappear');
        const newDiv = document.getElementById('task-input-area');
        button.style.visibility='hidden';
        oldDiv.style.visibility='hidden';
        newDiv.style.display = 'block';

       }
       let taskIdCounter=0;
       function addTask(){
        
        const taskList = document.getElementById('task-list')
        const addTaskBtn = document.getElementById('add-task-btn');
        const taskInput = document.getElementById('task-input');
        const confirmDialogue = document.getElementById('confirm-dialogue');
        const confirmYes = document.getElementById('confirm-yes');
        const confirmNo = document.getElementById('confirm-no');
        const task =taskInput.value.trim();
        if(task){
            const taskElement = document.createElement('div');
            const checkBoxContainer = document.createElement('div');
            checkBoxContainer.className = "checkBox-container";
            const checkBox = document.createElement('input');
            checkBox.type = 'checkbox';
            checkBox.dataset.taskId  = taskIdCounter++;
            const span = document.createElement('span');
            span.textContent = task;
            span.className='task-text';
            checkBoxContainer.appendChild(checkBox)
            checkBoxContainer.appendChild(span)
            taskElement.appendChild(checkBoxContainer);
            //taskElement.appendChild(span);
            taskList.appendChild(taskElement);
            taskInput.value = '';

            checkBox.addEventListener('change',() =>{
                if(checkBox.checked){
                    confirmDialogue.taskElement=taskElement;
                    confirmDialogue.style.display='block'
                   // const confirmDelete = confirm('Are you sure you want to delete this task?');
                    /*if(confirmDelete){
                        taskElement.remove();
                    }else{
                        checkBox.checked = false;
                    }*/
                }
                });
                confirmYes.addEventListener('click',()=>{
                     taskList.removeChild(confirmDialogue.taskElement);
                      confirmDialogue.style.display='none'
                 
                    /*taskElement.remove();
                  confirmDialogue.style.display='none';*/
                });
                confirmNo.addEventListener('click',()=>{
                  checkBox.checked = false;
                  confirmDialogue.style.display='none';
                });
        }
        
       }
    </script>
</body>
</html>